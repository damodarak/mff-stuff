Otázky Úvod do počítačových sítí 2024
=====================================

Úvod
----
Značně upravená verze odpovědí na otázky z roku 2016 Jirka Sejkora, otázky se neměnily.

Nic není zaručeno, snažil jsem se to lépe formátovat a překlepů snad bude málo.

Jedná se o kombinaci původního zpracování z roku 2016 + slidy + doplnění z netu + zkontrolované a napárované odpovědi z random excelu s odpověďmi.

Změny:
- Podrobněji jsem zpracoval otázky.
- Přidal jsem příklady odpovědí a upřesňující poznámky.
    - Příklady odpovědí jsem nechal v podobě ve které jsem je našel, takže nemají vždy nejlepší gramatiku a jsou většinou anglicky. 
- Přidal jsem kvízovou webovou aplikaci 'quiz_webapp.html' na procvičení, která odkrývá zpracovaný text k otázkám.
    - pro její funkčnost stáhněte 'quiz_webapp.html' a tento soubor 'site_2024.md' a servujte 'quiz_webapp.html' pomocí vámi zvoleného web serveru (např. [http-server](https://www.npmjs.com/package/http-server))

Doufám že se vám dokument bude hodit!

Šimon Kala

Legenda
----
- **Příklady odpovědí (pravda)** = příklady odpovědí, říká že odpovědi jsou pravda (nebo platí) nezávisle na tom jestli se otázka ptá jestli platí nebo neplatí
    - Je jedno jak je postavena otázka, záleží jen na tom jestli je to opravdu pravda nebo nepravda.
- **Příklady odpovědí (nepravda)** = příklady odpovědí, říká že odpovědi jsou nepravda (nebo neplatí) nezávisle na tom jestli se otázka ptá jestli platí nebo neplatí
    - Je jedno jak je postavena otázka, záleží jen na tom jestli je to opravdu pravda nebo nepravda.
- **Příklady ŠPATNÝCH odpovědí** = příklady nesprávných odpovědí, říká že odpovědi jsou špatně z závislosti na otázce
- Otázky končící na ø = nebudou se zobrazovat v kvízové aplikaci
- POZN = poznámka, snaha něco ujasnit

Přehled významu stavových kódů mezi protokoly:
----
| Code | FTP                                                    | SMTP                                   | HTTP                              |
|------|--------------------------------------------------------|----------------------------------------|-----------------------------------|
| 1xx  | předběžná kladná odpověď                               | "accept, pošlu další zprávu"           | informační odpovědi               |
|      | (positive preliminary reply)                           |                                        | (provisional response)            |
| 2xx  | kladná (definitivní) odpověď                           | OK/Beru                                | úspěch                            |
|      | (positive completion reply)                            |                                        | (success)                         |
| 3xx  | neúplná kladná odp. - chci další příkaz/něco potřebuju | Beru a něco chci                       | přesměrování                      |
|      | (positive intermediate reply)                          |                                        | (redirection)                     |
| 4xx  | dočasná záporná odp. - je možné ptát se znovu          | Teď není čas                           | chyba klienta                     |
|      | (transient negative reply)                             | (spam protection - graylisting)        | (client error)                    |
| 5xx  | trvalá záporná odp. - nepodařilo se a neopakuj         | Neberu (nikdy)                         | chyba serveru                     |
|      | (permanent negative reply)                             |                                        | (server error)                    |

---

Otázky
----

#### Označte nepravdivé tvrzení týkající se porovnání metody přepojování paketů a přepojování okruhů.
Přepojování okruhů - vybere se pevná cesta pro celou komunikaci, jako přepojování telefonních ústředen. Rychlejší, plynulejší, výpadek znamená rozpad spojení.

Přepojování packetů - každý packet se může v každém uzlu vydat jinou cestou. Výpadek uzlu není fatální. (některé packety spadnou a pokud je to potřeba, tak budou poslány znovu)

---
**Příklady odpovědí (pravda)**:
- Packet switching better utilises network infrastructure
- Packet switching is more fault tolerant

#### Jaké charakteristiky z hlediska přenosových parametrů mají následující typy aplikací resp. Protokolů?
Co je potřeba aby daný protokol fungoval:
- multimediální (realtime => vadí latency/jitter)
- Mail, WEB (vadí ztrátovost dat)

#### Který z následujících termínů nepatří mezi přenosové parametry počítačové sítě?
- zpoždění=Latency/Delay
- pravidelnost=Jitter/Rozptyl zpoždění
- ztrátovost dat
- šířka pásma=Bandwidth ("rychlost")

---
**Příklady ŠPATNÝCH odpovědí**:
- best effort
- encapsulation

#### Které z následujících tvrzení týkajících se WAN je pravdivé?
Rozlehlé sítě, vzdálený přístup, velké vzdálenosti => větší zpoždění, mnoho vlastníků => distribuované řízení
Pozor: Neexistuje přesná definice co je LAN vs WAN!

#### Které z následujících tvrzení týkajících se LAN je pravdivé?
- Sdílení prostředků (tiskárny, databázové servery), menší vzdálenost => malé zpoždění, jednotné vlastnictví a řízení
- Většina LAN je privátních, kde uživatel je vlastníkem.
Rozšíření a rozdělení LAN:
- K spojení více LAN sítí do jedné velké virtuální sitě lze využít VPN (virtuální privátní síť), ta vytvoří šifrovaný tunel přes WAN, který je spojuje.
    - VPN = z více LAN jedna virtuální síť
- K rozdělení jedné fyzické LAN sítě na více menších virtuálních sítí se používá VLAN (Virtual Local Area Network).
    - VLAN = z jedné LAN více virtuálních sítí

Pozor: Neexistuje přesná definice co je LAN vs WAN!

---
**Příklady odpovědí (pravda)**:
- LAN is usually owned by sole owner (it is not public)
- VPN enables extension of particular LAN across WAN

#### Které tvrzení charakterizuje Diffie-Hellmanův algoritmus?
Způsob výměny informací mezi dvěma partnery po nezabezpečeném kanálu, tak aby oba získali sdílenou tajnou informaci (př. symetrický šifrovací klíč)

#### Které tvrzení charakterizuje Dijkstrův algoritmus?
Algoritmus na nalezení nejkratší cesty.
Počet průchodů = počet vrcholů (mínus nedosažitelné)

Využívá se v OSPF (Open Shortest Path First), což je interní link state protokol, pro výpočet mapy sítě.
Je potřeba mapu vždy celou přepočítat když se přidá nová hrana/vrchol, proto se síť v OSPF dá rozdělit na oblasti.

#### Na jakém principu funguje šifrování elektronické pošty?
1. odesílanou zprávi zašifrujeme náhodným sym. klíčem
2. tento klíč zašifrujeme veřejným klíčem příjemce
3. pošleme symetricky zašifrovanou zprávu a asymetricky zašifrovaný symetrický klíč
4. příjemce svým tajným klíčem rozšifruje symetrický klíč a použije ho na zašifrovaná zprávu
- POZN: výhoda tohoto postupu je, že pro několik příjemců, stačí jen jednout zašifrovat obsah zprávy a pro každého šifrujeme jen symetrický klíč

#### Na jakém principu funguje elektronický podpis?
1. odesílatel získá hash obsahu odesílané zprávy
2. hash zašifruje svým tajným klíčem (tzv. podepsání) a přiloží ho ke zprávě
3. příjemce veřejným klíčem odesilatele rozšifruje hash
4. porovná tento hash s hashem obsahu přijaté zprávy

---
**Příklady odpovědí (pravda)**:
- Hash is calculated from the text, it is then asymmetrically encrypted by sender's secret key and sent together with the document

---
**Příklady ŠPATNÝCH odpovědí**:
- Hash is calculated from the text, it is symmetrically encrypted, used encryption key is asymmetrically encrypted by recipient's public key and sent together with the document
- POZN: Při podpisu neprobíhá žádné symetrické šifrování hashe.

#### Jaké tvrzení o symetrických a asymetrických šifrovacích algoritmech je pravdivé?
- Symetrický = příjemce i odesilatel stejný klíč - musí být tajně domluven, rychlé vhodné na velká data (Historie: šifrovací mřížky, tabulky), dnes analogické principy převedené do digitální podoby+matematika, DES, Blowfish, AES, RC4

- Asymetrický = veřejný šifrovací a soukromý (symetrický) dešifrovací klíč (kdo chce zašifruje mi to, ale jen já vím jak to přečíst)

#### Jaké vlastnosti musí splňovat hashovací algoritmus pro použití v kryptografii?
- (Hashovací funkce: Pevně z „kódu“ textu, široké uplatnění, CRC, MD5)
- (Formálně: Převod vstupní posloupnosti bitů na nějakou konkrétní posloupnost vždy odpovídající délce dané hashovací funkce.)

1. malá změna textu způsobí velkou změnu hashe (skoro jednoznačný)
2. jednosměrnost = text z hashe neodvoditelný
3. nalezení textu se shodným hashem obtížné
Př. kryptografické hashovací funkce: SHA

---
**Příklady odpovědí (pravda)**:
Even with a small change we will get a very different result.

#### Které tvrzení o klíčích a certifikátech je pravdivé?
Certifikát = klíč doplněný o identifikaci vlastníka a podepsaný vydavatelem (Certifikační autoritou CA)
- Autenticitu ověřuje třetí strana - veřejná certifikační autorita (pavučina důvěry)
    => ověřovat věrohodnost CA
- Podle X.509 obsahuje:
    - samotný certifikát: verze, sériové číslo, vydavatel, doba platnosti, vlastník veř. klíče, informace o klíči
    - dále: algoritmus pro el. podpis, elektronický podpis

#### Jaké tvrzení o SSL resp. TLS je pravdivé?
TLS je jednoduše novější verze SSL. TLS nahradilo SSL.
- Pozor: SSL se již nepoužívá a když se dnes bavíme o SSL, tak se tím většinou myslí TLS. Např. se používá slovní spojení 'SSL certifikát', ale myslí se tím 'TLS certifikát'.
- Mezivrstva mezi aplikační a transportní umožňuje AUTENTIKACI A šifrování (využívá i HTTPS port 443) 

Princip:
1. Klient - požadavek na SSL spojení + parametry
2. Server - odpověď + parametry + certifikát
3. Klient - ověření serveru + vygenerovaný základ klíče, zašifrován veř. klíčem serveru
4. Server - rozšifruje a vytvoří šifrovací klíč (stejně tak učiní klient)
5. Vzájemně si potvrdí, odteď probíhá komunikace s tímto klíčem

---
**Příklady odpovědí (pravda)**:
SSL was a predecessor to TLS and is no longer supported

#### Označte nepravdivé tvrzení ohledně vrstevnaté struktury sítí.
- snazší dekompozice a popis
- snadná změna technologie
- rozdělení práce mezi vrstvy

- POZN: ISO/OSI (shora navržený, megalomanský, nepraktický, dobrý jako teoretický)

---
**Příklady odpovědí (nepravda)**:
- Increases dependency on implementation changes in some layers
- Facilitates writing applications because it is possible for hosts to communicate immediately on the application layer without using lower layers

#### Jak spolupracují vrstvy vertikálně?
- předávají si navzájem data+řídící informace z vyšší vrstvy do nižsí (tz. encapsulation)
- příjemce v opačném směru postupně rozbalí, každá vrstva se stará o odlišnou část, dohromady uskuteční proces

#### Co nepatří mezi funkce protokolu?
Protokol = konvence/standard, podle kterého probíhá el. komunikace a přenos dat - definuje pravidla syntaxe, sémantiky a synchronizace vzájemné komunikace (detekce spojení, handshake, vyjednání parametrů spojení, zahájení a ukončení zpráv, formát zpráv, co dělat se špatnými/poškozenými daty, detekce a reakce na ztrátu spojení, ukončení relace/spojení)

#### Zvolte nesprávnou definici pojmů segmentace, fragmentace, multiplexing a zapouzdření.
- Multiplexing = sdílení kanálu více službami
- Zapouzdření (encapsulation) = předání dat+řídících informací do nižší vrstvy
- Segmentace = rozdělení aplikačních dat na transportní vrstvě (pro snažší přenos)
- Fragmentace = další dělení dat na síťové vrstvě díky malé velikosti MTU (Maximum transmission unit) linkové vrstvy, je nežádoucí proto se např TCP snaží nastavit velikost segmentu tak aby nedošlo k fragmentaci (najde minimální MTU - Path MTU)

#### Jak budou vypadat zdrojové a cílové IP a MAC adresy paketu poslaného z notebooku na server na trase mezi routerem A a B?
- Zdrojové: IP notebooku,  MAC routeru A
- Cílové: MAC routeru B, IP serveru

- IP adresy identifikují konečné body komunikace a zůstávají stejné
- MAC adresy se mění na každém routeru (hop-by-hop) a identifikují pouze sousední zařízení v rámci jedné podsítě

---
**Příklady odpovědí (pravda)**:
Source IP: notebook, source MAC: router A, destination MAC: router B, dest. IP: server

#### Jak budou vypadat zdrojové a cílové IP a MAC adresy paketu poslaného jako odpověď serveru na požadavek z notebooku při průchodu podsítí označenou III?
- IP adresy identifikují konečné body komunikace a zůstávají stejné
- MAC adresy se mění na každém routeru (hop-by-hop) a identifikují pouze sousední zařízení v rámci jedné podsítě

Zdrojové:
- IP serveru
- MAC routeru, ze kterého paket do podsítě III vstupuje

Cílové:
- MAC routeru, do kterého paket z podsítě III vystupuje
- IP notebooku

Dle obrázku doplníme, o které jde routery.

#### Označte pravdivé tvrzení o peer-to-peer (P2P) resp. klient-server aplikačních modelech.
Klient-server
- klient zná pevnou adresu serveru
- klient navazuje komunikaci a zadává požadavky
- server obsluhuje více klientů najednou
- download/upload
- Př: DNS, WWW, SMTP

Peer-to-peer
- partneři neznají pevné adresy zdroje dat
- nejsou dané role
- propojení s více peery zároveň
- každý zároveň klient i server
- má špatnou pověst, problém je v distribuci dat k jejichž distribuci nemá uživatel právo
- Př: Napster, Gnutella, BitTorrent

---
**Příklady odpovědí (pravda)**:
- Application in both models can communicate with multiple hosts in parallel
- A program in the client-server model can have several connections opened several as a server at the same time

#### Které tvrzení týkající se URI je správné?
Uniform Resource Identifier (adresování služeb) - textový řetězec s danou strukturou, k přesné specifikaci zdroje informace (dokument/služba) - jednotný systém odkazů, jeden klient pro více služeb (FTP ve WWW), členění na Locator a Name

URI `schéma://autorita[cesta][?dotaz][#fragment]`

`autorita=[jméno[:heslo]@]adresa[:port]`

- POZN: URL (Uniform Resource Locator) v kontextu adresování služeb na internetu znamená prakticky to stejné (každé URL je URI, ale ne každé URI je URL)

---
**Příklady odpovědí (pravda)**:
- If a client does not use a proxy and a URI contains a domain name, the client must resolve the name to an IP address (usually via DNS)
    - POZN: Pokud bychom používali forward proxy (Forst tomu říká netransparentní proxy), tak se celá žádost pošle na proxy server a až ten resolvuje doménové jméno.
- Query parameters may be part of a URI for some schemas
- Some URI may contain also user name and password

#### Které z následujících tvrzení o doménových jménech je pravdivé?
- Identifikace počítačů pro lidi. Snažší zapamotavání nebo odvození (než IP adresy)
- Zápis: Zleva od nejkonkrétnější po nejobecnější oddělené tečkami, poslední = TLD (top level domain)
- nižší spravuje vlastník
- nejvyšší úroveň spravuje ICANN (.cz - CZ.NIC)

Pozor: Forst říká 'Základní problém je, že DNS je navrženo tak, že součástí jména může být i tečka!', takže tečky nemusí nutně oddělovat části doménového jména. To by znamenalo, že nevíme zda platí, že "ktiml.mff.cuni.cz" se skládá ze 3 nebo 4 částí.

Ale: Po delším zkoumání si myslím že to není úplně pravda. RFC 1035 říká že ve jméně může být skutečně tečka, ale jen escapovaná ("\\.") a že samotná tečka vždy znamená oddělovač částí doménového jména (labelů). Forst zmiňuje 'mohu založit web www.oddeleni.firma.cz, aniž existuje doména oddeleni.firma.cz', což je sice technicky pravda (webserver mi to umožní), ale RFC 8020 říká, že pokud by neexistovalo 'oddeleni.firma.cz', tak nebude existovat ani 'www.oddeleni.firma.cz'. To znamená, že pokud navštívím "ktiml.mff.cuni.cz" tak si můžu být jistý že existují subdomény "ktiml.mff.cuni.cz" i "mff.cuni.cz".

#### Jaký krok následuje poté, co www server připraví text stránky, rozdělí ho a naformátuje do TCP segmentů?
- (TCP Segment = celá jednotka vytvořená na transportní vrstvě)
Následuje: Předání segmentů IP (síťové) vrstvě k doručení.
- (Pošle na síťovou vrstvu a ta přidá IP src, IP dst, typ -> IP je zabalí do IP datagramů)


#### Jaký krok následuje poté, co www klient zjistí adresu cílového serveru a připraví paket v protokolu IP k odeslání?
Následuje: Zjištění fyzické (MAC) adresy směrovače / cílového serveru pomocí ARP (ze směrovací tabulky).
- (provede encapsulation a předá do nižší vrstvy (linkové))

---
**Příklady odpovědí (pravda)**:
Client's host finds out from the routing table the first successive destination node

#### Jaký krok následuje poté, co počítač, na kterém běží www server, přečte ethernetový rámec od síťové karty?
Následuje: Rozbalení rámce a předání datagramu (IP paketu) protokolu IP.
- (Vybalí z ethernetového rámce = přečte mac adresy (linková) - pošle výše (síťová))

#### Co patří mezi úkoly aplikační vrstvy v TCP/IP modelu?
Spojuje 7,6,5 OSI modelu, pravidla komunikace mezi klientem a serverem, stav dialogu, interpretaci dat/definuje: průběh zpracování na obou stranách, formát zpráv (text/binární, struktura), typy zpráv, sémantika zpráv a informačních polí, varianty průběhy dialogu, interakci s transportní vrstvou

---
**Příklady odpovědí (pravda)**:
- To provide a communication channel for the client and server part of application
- To define message format independent on hardware used on the client and server

#### Označte úkol, který není předmětem činnosti žádného protokolu transportní vrstvy.
- (TCP/UDP) zodpovídá za end to end přenos dat, zprostředkovává služby sítě aplikačním protokolům, které mají rozdílné nároky na přenos, umožňuje provoz více aplikací na uzlu
- volitelně: spolehlivost přenosu dat, segmentuje data pro snazší přenos/zpětně skládá, řídí tok dat

---
**Příklady odpovědí (nepravda)**:
- To provide that all data of one connection follow the same path to the destination
    - POZN: to je otázka síťové vrstvy, např. IP nic takového nezaručuje (je connectionless -> bezestavový)
- To manage client-server dialogue according to relevant application protocol
    - POZN: to je úkol aplikační vrstvy

#### Co nepatří mezi úkoly síťové vrstvy v TCP/IP modelu?
Funkce: přenos dat předaných transportní vrstvou od zdroje k cíli, pro tuto činnost jsou:
- Adresace - protokol definující tvar a strukturu komunikačních adres partnerů
- Encapsulation - zapouzdření - data (+IP src/dst, typ) zapouzdřena do PDU
- Routing - směrování = vyhledání nejvhodnější cesty k cíli přes mezilehlé sítě
- Forwardování - přeposílání = předání dat ze vstupního síťového rozhraní na výstupní, decapsulation, NAT (IP masquerading), ARP, RIP, ICMP, Ping, TTL
- QoS

---
**Příklady odpovědí (nepravda)**:
- To provide local switches with information on local destination network addresses
    - POZN: to by odpovídalo na ARP

Navíc z podobné otázky 'Mark the term, which is not a network layer function': 
- Modulation

#### Jaké je správné pořadí vrstev OSI modelu od nejvyšší po nejnižší?
Aplikační, prezentační, relační, transportní, síťová, linková, fyzická

#### Vyberte správné tvrzení o účelu a principu programu ping.
Program pro diagnostiku sítě
- ověřuje funkčnost spojení
- není potřeba spešl program na cílovém uzlu
- nezaručuje dostupnost služeb - pouze síťové vrstvy
- využívá protokol ICMP (Internet Control Message Protocol) - Echo Request, Echo Reply
    - ping je jeden z mála programů co využívá ICMP napřímo
    - protokol na mezi 3. (síťovou) a 4. (transportní) vrstvou

#### Co můžeme usoudit, pokud zavoláme program ping na adresu 127.0.0.1 s výsledkem: `4 packets transmitted, 0 packets received, 100.0% packet loss`?
Na žádný ICMP datagram nepřišla odpověď = to by za normálních podmínek znamenalo problém se spojením po cestě nebo na cílové stanici.

Tím že je 127.0.0.1 speciální adresa (loopback), která značí tento stroj (localhost) a nevyžaduje ani síťovou kartu, tak to znamená, že je problém s lokálním počítačem

=> říká nám to že nefunguje IP, protože se nepřesměrovávají packety na loopback

---
**Příklady odpovědí (pravda)**:
- IP software on the local computer has been improperly configured

#### Uživateli nejde zobrazit WWW stránka. Při použití IP adresy v URL se stránka správně zobrazí. Který protokol je zodpovědný za chybu?
DNS
- Problém v překladu mezi doménovým jménem a IP adresou.

#### Uživatel přesunul počítač do jiné podsítě v síti bez VLSM (Variable Length Subnet Mask) a Proxy ARP. Které z následujících nastavení bude muset zcela jistě změnit?
IP

Důvod:
- Každá podsíť má svůj vlastní rozsah IP adres
- V síti bez VLSM mají všechny podsítě stejnou masku
- Bez Proxy ARP nemůže zařízení komunikovat napříč podsítěmi se stejnou IP adresou
- => Ponechání IP adresy znamená výpadek komunikace

---
**Příklady odpovědí (pravda)**:
- None from the above parameters has to be necessarily changed
    - Pozn: Takže tam nejspíš IP nebylo :)

#### Jakým způsobem se v aplikačních protokolech TCP/IP řeší zápis textových řádek?
Vždy Carriage Return + Line Feed (\\r\\n)

Např. pro HTTP:
```
GET /index.html HTTP/1.1\r\n
Host: www.example.com\r\n
Connection: keep-alive\r\n
\r\n
```

---
**Příklady ŠPATNÝCH odpovědí**:
- Line endings correspond to their representation in the sending host operating system
- Application layer does not handle this, agreement is provided by TCP/IP presentation layer
- The recipient is obliged to respect any kind of line endings
    - POZN: Sice není příjemce povinen jakýkoli druh konců řádků respektovat, ale většinou se snažíme být při přijmu tolerantní a přijmout všechny varianty.

#### Jakým způsobem se v aplikačních protokolech TCP/IP obvykle řeší binární zápis celých čísel?
Pořadí bytů - v naprosté většině případů big endian (1 = 0x00, 0x00, 0x00, 0x01)
- také známý jako "network order" nebo "MSB first"
Pozor:
- Intel používá little endian  (1 = 0x01, 0x00, 0x00, 0x00), takže musí převádět!
    - K tomu rodina funkcí hton a ntoh (host to network, network to host).
    - Převádění řeší sama aplikace.

---
**Příklady odpovědí (pravda)**:
For representation of integers in common protocols the big-endian method is used (number 1 is encoded as 0x00, 0x00, 0x00, 0x01)

#### Který z následujících protokolů se používá v TCP/IP na transportní vrstvě?
TCP, UDP (kombinace, SCTP, DCCP, MPTCP)

#### Který z následujících protokolů není protokolem aplikační vrstvy TCP/IP?
#### Který z následujících protokolů se používá v TCP/IP na aplikační vrstvě?
Jsou: DNS, SMTP (ESMTP), POP3, IMAP, FTP, HTTP, Telnet, SSH, SIP, NFS, SMB

---
**Příklady odpovědí (pravda)**:
NFS

---
**Příklady ŠPATNÝCH odpovědí**:
TCP, ARP

#### Co označuje zkratka STP?
- Shielded Twisted Pair
    - kroucená dvojlinka s kovovým stíněním
    - KONTEXT: fyzická vrstva, médium metalické (elektrické pulzy)
- *NEBO*
- Spanning Tree Protocol
    - protokolu pro hledání koster grafu sítě (acyklické podmnožiny sítě - síť by se jinak zahltila přeposíláním rámců v cyklech)
    - KONTEXT: segmentace sítě, linková vrstva, bridge -> learning bridge, nekonečná smyčka při zapojení dvou bridge k jedné síti

---
**Příklady odpovědí (pravda)**:
Spanning Tree protocol - a protocol, through which bridges communicate during distributed calculation of minimum spanning tree algorithm in network graph

#### Které z následujících tvrzení správně popisuje činnost konkrétního aplikačního protokolu?
DNS (Domain Name System):
- Převod doménových jmen na IP adresy a další informace
- Hierarchický, distribuovaný systém
- UDP port 53 pro dotazy, TCP 53 pro zónové přenosy

SMTP/ESMTP (Simple Mail Transfer Protocol):
- Protokol pro odesílání emailů mezi servery
- ESMTP je rozšířená verze podporující autentizaci a další funkce
- TCP port 25, 587 pro zabezpečený SMTP

POP3 (Post Office Protocol):
- Stahování emailů z mailserveru do klienta
- Základní operace: stažení a smazání

IMAP (Internet Message Access Protocol):
- Pokročilá správa emailů na serveru
- Umožňuje práci s složkami, částečné stahování, synchronizaci

FTP (File Transfer Protocol):
- Přenos souborů mezi systémy
- Oddělené spojení pro řízení (21) a data (20)
- Podporuje anonymní přístup

HTTP (Hypertext Transfer Protocol):
- Přenos webových stránek a dalšího obsahu
- Request-response protokol
- TCP port 80, HTTPS 443

Telnet:
- Textový vzdálený terminálový přístup
- Nezabezpečený
- TCP port 23

SSH (Secure Shell):
- Zabezpečený vzdálený přístup a přenos souborů
- Šifrování, autentizace
- TCP port 22

SIP (Session Initiation Protocol):
- Signalizační protokol pro VoIP a multimediální komunikaci
- Navazování, modifikace a ukončování relací
- TCP/UDP

NFS (Network File System):
- Sdílení souborových systémů v síti
- Původně vyvinut Sun Microsystems
- Především pro Unix/Linux systémy

SMB (Server Message Block):
- Sdílení souborů a tiskáren v sítích Windows
- Také známý jako CIFS
- TCP

#### Který aplikační protokol se používá k přenosu souborů?
FTP (SFTP), SSH

#### Který aplikační protokol (resp. sada protokolů) se používá pro VoIP?
- SIP (Session Initiation Protocol)
    - signalizační protokol pro navazování, modifikaci a ukončování relací
- RTP (Real-time Transport Protocol)
    - pro přenos jen hlasových dat
    - často společně s RTCP (Real-time Transport Control Protocol)
        - poskytuje k tomu kontrolní informace
- H.323
    - starý, dnes méně používaný
    - komplexní protokol zahrnující signalizaci i přenos médií
    - ASN (Abstract syntax notation) - notace používaná pro popis dat

#### Který aplikační protokol se používá pro elektronickou poštu?
SMTP, POP3, IMAP

#### Který aplikační protokol se používá pro sdílení systému souborů?
NFS (Network File System), SMB (Server Message Block)

#### Který aplikační protokol se používá pro zjišťování IP adres odpovídajících jménům strojů?
DNS

#### Které z následujících tvrzení o RFC je pravdivé?
Request For Comments je prostředek standardizace internetu, mají různý charakter - standardy, informace, návody. Dokumenty se nemění, pokud je změna, prostě se vydá nové RFC - jeho platnost přepisuje starší), aktuální stav v indexovém souboru, zdaleka ne všemi dodržované, návrh RFC projde schvalovacím procesem IAB → IETF/IRTF → WG. Jsou veřejně přístupné.

---
**Příklady odpovědí (pravda)**:
- RFC are freely available on the internet
- When an RFC is updated, it gets a new number. The RFC index file serves to find out the current status
- RFCs are used for publishing of standards, but many applications do not respect them

#### Které z následujících tvrzení o povaze DNS protokolu je správné?
Klient-server aplikace, běžné dotazy do 512B UDP, jinak TCP, klient se obrací na servery definované v konfiguraci, postupně získává lepší informace, problematika zabezpečení (DNSSEC - komplikované, malé rozšíření zatím), jednotkou dat je RR (Resource Record)

---
**Příklady odpovědí (pravda)**:
- DNS client may use TCP or UDP transport protocol
- DNS is a binary protocol, information unit is called resource record (RR)

#### Které tvrzení správně popisuje obvyklou implementaci služby operačního systému "zjisti IP adresu pro dané doménové jméno"?
DNS - rekurzivně se ptám serveru (nastavený uživatelem), ten nerekurzivně vyšších serverů, vždy odpověď na co nejkonkrétnější část „zadání“ - pak by už stejně neměl co říct

---
**Příklady odpovědí (pravda)**:
- DNS client sends a resursive query to one of the nameservers it has in its configuration. If no response is returned within a certain time, it repeats the query because UDP packets may get lost

#### Které tvrzení o bezpečnostních aspektech protokolu DNS je správné?
- Problematické, podpisy zabezpečené DNS (DNSSEC) je komplikované a rozšiřuje se pomalu
Problémy jako:
 - cache poisoning = do sekce Authority a Additional je zadána jiná doména -> redirekce (příklad provedení: nahradí IP adresy svými variantami, zkopíruje foldery původní hledané stránky a dá do nich malicious software)
- Nic kromě znalosti zdrojového portu (náhodných 16 bitů) a ID transakce (náhodných 16 bitů) nebrání komukoliv odpovědět na jakoukoliv DNS žádost.

---
**Příklady odpovědí (pravda)**:
- If an attacker can read a query, he can send arbitrarily faked answer, the only prevention consists in the fact that it is hard to guess the exact source port and transaction ID of a query
- Flag AUTHORITATIVE informs the client that the server provided authoritative data in the ANSWER section. However, the client cannot be sure whether to believe it

#### Označte správné tvrzení o nameserverech.
1. Primární - spravuje záznamy o doméně
2. Sekundární - stahují a uchovávají kopii dat o doméně, stahování probíhá periodicky (to znamená, že mohou být nějaký čas rozdílná od primárního) nebo když ho primární server informuje o změně (NOTIFY).
3. Caching-only - udržuje jen dříve vyřešené dotazy po dobu jejich platnosti

Nameserver:
- každá doména alespoň má alespoň jeden, lépe více autoritativních NS (primární/sekundární)
- pro výměnu dat TCP
- formát dotazu a odpovědi je DNS RR (resource record)

---
**Příklady odpovědí (pravda)**:
- Secondary server may have different data than primary server for some time
- Caching-only server for specific domain knows from this domain only records acquired by previous queries and only for the term before they expire
- The aim of having a secondary server is to backup the function of the primary one, however it responds to client queries independently to the primary server state

#### Jakou TLD (Top Level Domain) najdeme v následujícím URI? ftp://sunsite.mff.cuni.cz/Network/RFCs/rfc-index.txt
CZ

#### Které z následujících tvrzení o používání poštovních protokolů je správné?
Posílání: SMTP(25)

Čtení:
- přímo na email serveru (např přes SSH nebo HTTP)
    - v případě emailových klientů přes web
    - nebo přes SSH (pokud jste Forst)
- přístup z venku pomocí protokolů POP3(110)/IMAP(143)
    - POP starší
        - otevřený přenos hesla
        - dopisy lze stahovat jen celé
        - není možná práce se strukturou dokumentu
    - IMAP
        - novější
        - možnost šifrovaného spojení
        - podpora více stránek (složek)
        - možnost vyžádat jen část dopisu
        - možnost vyhledávat v dopisech
        - paralelní příkazy
        - server uchovává informace (stav) o dopisech
        - Šifrování přes příkaz STARTTLS (993)

---
**Příklady odpovědí (pravda)**:
- An application for mail handling (MUA) can be also run directly on an email server (MTA): in this case it might be possible to connect to the server through SSH or HTTP protocol

#### Které z následujících tvrzení o SMTP protokolu je správné?
SMTP/ESMTP (Simple Mail Transfer Protocol):
- Protokol pro odesílání emailů mezi servery
- ESMTP je rozšířená verze podporující autentizaci a další funkce
- TCP port 25, 587 pro zabezpečený SMTP

#### Které z následujících tvrzení o roli jednotlivých komponent v přenosu elektronické pošty je pravdivé?
MTA = Mail Transfer Agent

Na lokální síti:
- Klient pošle přímo přes internet - příme doručení
- Klient pošle přes mail-forwarder (MTA)
Ve vzdálené síti:
- MX DNS záznam pro doménu cílového serveru značí že poštu máme poslat:
    - rovnou na mail server
    - na mail-relay (taky MTA) a ta to přepošle na mail server

Z pohledu uživatele:
- POP/IMAP - protokoly pro přístup (získávání zpráv) k poštovní schránce, SMTP pro best effort (delivery only!) doručování zpráv

---
**Příklady odpovědí (pravda)**:
- Mail exchanger (MX) is a mail server designed for reception of mail for particular domain
- Every mail transfer agent (MTA) participating on the transfer usually adds tracing information to the mail header (Received header)

#### Které tvrzení o rozšířeních protokolu SMTP pro přenos souborů a diakritiky je správné?
- Původně 7-bit ASCII -> žádná diakritika
- dříve - kódování souborů pomocí UUENCODE (z UUCP unix-to-unix-copy)
    - kódování ok ale chybělo systematické začlenění do dopisu
- dnes rozšířené - MIME (Multipurpose Internet Mail Extension)
    - umožňuje hierarchicky strukturovat dokument, pro každou část zadat:
        - typ a formát obsahu, znakovou sadu a kódování, další info k zpracování
        - používat diakritiku lze i v některých hlavičkách
        - Kódování:
            - Base64 - podobný princip jako UUENCODE (jiná tabulka a formát řádek)
            - Quoted-Printable - nonASCII znaky uloženy jako řetězce.
    - MIME dnes používán hodně i mimo poštu.

---
**Příklady odpovědí (pravda)**:
- In SMTP protocol, national language characters are not allowed in mail header
- Files are currently attached to a message as nodes of (hierarchical) MIME structure

#### Označte hlavičku, která se dle RFC 822 v dopisech nevyskytuje.
Vyskytuje se: Date, From, Sender, Reply-To, To, Cc, Bcc, Message-ID, Subject, Received (info průběhu doručování emailu)

#### Který příkaz není příkazem SMTP protokolu podle RFC 821?
Jsou (z prezentace): HELO (Pozor EHLO má novější ESMTP!), MAIL FROM, RCPT TO, DATA, QUIT

Dle RFC 821 ještě jsou i: RSET, SEND/SOML/SAML FROM, VRFY, EXPN, HELP, NOOP, TURN

---
**Příklady odpovědí (nepravda)**:
- MIME
- GET

#### Které tvrzení o bezpečnostních aspektech poštovních protokolů je správné? ø
Viz otázka [Které tvrzení o autenticitě původu dopisu je správné?](#které-tvrzení-o-autenticitě-původu-dopisu-je-správné).

---
**Příklady odpovědí (pravda)**:
- The digital signature of the mail guarantees both the content integrity and mail author (i.e. the fact that the sender had access to the private key, which had been used)
- In IMAP protocol, encryption may be achieved either by establishing connection to another port (993 instead of 143) or within the protocol by STARTTLS command

#### Které tvrzení o autenticitě původu dopisu je správné?
Dopis je otevřená listovní zásilka
- řešení:
    - šifrováním obsahu, například pomocí PGP (Pretty Good Privacy).

Nikdy není jistý odesilatel, ani shoda údajů v obálce a textu
- řešení:
    - Sender policy framework=pokus o zpětné doručení
    - systém výzva/odpověď
    - elektronický podpisem
- To znamená: 
    - neotevírat dopisy neznámého původu
    - server může vyžadovat autentikaci odesilatele pomocí ESMTP - příkaz AUTH
    - klient může pomocí ESMTP příkazu STARTTLS žádat o spojení pomocí SSL/TLS
    - (šifrování je jinak obecně problémem uživatele ne serveru)

---
**Příklady odpovědí (pravda)**:
- The sender authenticity cannot be guaranteed by means of SMTP protocol

#### Jak označujeme protokol, kterým se přenášejí webové stránky?
HTTP - Hypertext Transfer Protkol

#### Co označuje zkratka HTML?
Hypertext Markup Language (2014 verze HTML5)
- popisuje obsah i formu
- konkrétní zobrazení v režii klienta
- (je to aplikací staršího SGML - Standard Generalized ML, předchůdce XML - eXtensible ML)

---
**Příklady odpovědí (pravda)**:
- A language that allows writing text together with non-text elements, formatting and other metainformation

#### Které tvrzení o povaze HTTP protokolu je správné?
Port 80, typicky TCP

Formát zprávy:
- úvodní řádka (požadavek/odpověď)
- doplňující hlavičky:
    - pro požadavek: jazyk, kódování, stáří stránky, autentikace
    - pro odpověď: typ dokumentu, kódování, expirace
- volitelné: tělo dokumentu

* 1xx informativní odpověď (požadavek přijat, probíhá zpracování)
* 2xx kladná definitivní odpověď
* 3xx přesměrování (očekáván požadavek od klienta)
* 4xx chyba na straně klienta (nesprávný požadavek)
* 5xx chyba na straně serveru (nepodařilo se vyhovět požadavku)

Další info:
- Odpověď na jeden požadavek je obvykle jeden dokument.
- Po jednom perzistentním spojení může jít postupně více požadavků, klienti si většinou otevírají více spojení.
- Nové verze HTTP také umožňují udržet jedno spojení přes které lze posílat více požadavků i paralelně.
- Požadavky jsou nezávislé, komunikace je bezestavová, stav je přenášen dodatečnými daty *cookies*.

#### Jaké tvrzení týkající se cookies je správné?
Cookies:
- stav přenášený jako dodatečná data v HTTP protokolu
- mohou obsahovat například preference (nastavení), nějaký token pro autentifikaci přihlášeného uživatele...
- server například vygeneruje cookies s identifikací spojení a pošle v hlaviččce klientovi
    - ten je pak při další komunikaci na daný server přidá do hlaviček požadavku (tak to třeba dělá PHP s jeho sessions)
- Může je nastavit webserver (v hlavičce 'Set-Cookie'), nebo Javascript.
- Rizika:
    - nepředstvuje primární riziko (nelze do nich dát nebezpečný kód)
    - předstvují sekundární riziko (lze pomocí nich sledovat uživatele napříč stránkami)

---
**Příklady odpovědí (pravda)**:
- Cookies represent a risk for the user e.g. because a web server can use them to get information about other servers previously visited by the user
- Cookies compensate for the missing session state information within stateless HTTP

#### Jakým způsobem klient obvykle předává serveru data vyplněná uživatelem do ovládacích prvků dialogu?
POST - přímo do těla requestu, není jednoduše v prohlížečích vidět

GET - do URL ve formě GET parametrů

#### Která z následujících metod ("příkazů") existuje v HTTP protokolu?
HTTP 1.0: GET, POST, HEAD

HTTP 1.1: GET, POST, PUT, HEAD, DELETE, TRACE, OPTIONS, CONNECT, PATCH

---
**Příklady odpovědí (pravda)**:
CONNECT - a Tunnel establishment request

#### Které tvrzení o možnostech autora ovlivnit dynamickou povahu stránek je nesprávné?
Dynamika lze zařídit buď na serveru nebo na klientovi.
- na serveru (např pomocí PHP)
    - uživatel nevidí zdrojový kód
    - pro změnu stránky se uživatel musí přesměrovat
- na klientovi
    - umožňuje změnu webu bez potřeby přesměrování
    - jazyky:
        - historicky Java applety -> něco jako bytecode (vyžadovaly JVM)
        - dnes Javascript -> uživatel vidí zdrojový kód
        - Pozn: Také je dnes možnost použít WebAssembly -> bytecode, rychlý, nemusíte psát javascript xd

---
**Příklady ŠPATNÝCH odpovědí**:
- Ak chce dosáhnout dynamičnost stránky musí použít jazyk Java (něco v tomhle stylu)
- POZN: Je to špatná odpověď, protože dynamická povaha stránek může být dělaná i ze strany serveru, například pomocí reagování na cookies.

#### Vyberte správné tvrzení o dynamických WWW stránkách.
Dynamické stránky je možné nechat vygenerovat serverem, s využitím informací, které uživatel zadal, cookies apod. Například jazyk PHP používá CGI nebo nějaký web server (třeba Apache) k vyprodukování dynamické web stránky. Generovat je samozřejmě může jakýkoliv jazyk, CGI umí využívat například Perl, Python... Nic vám nebrání napsat program, který vrací HTML pro webserver i v C# (viz ASP.NET), C++, C nebo dalších rozumných jazycích.

Nebo přímo klientem (nejčastěji Javascript - zdrojový kód interpretován přímo, méně často Java applety - mezikód interpretován za pomoci lokálních knihoven). Zde také existují další alternativy.

#### Které tvrzení popisuje správně problematiku vzdáleného přihlášení pomocí protokolů telnet a SSH?
Telnet (23)
- nezabezpečený dnes využívaný v rámci LAN nebo při ladění jiných protokolů
- využívá síťový virtuální terminál NVT
- protokol přenáší oběma směry příkazy a odpovědi ale neumí je rozlišit

SSH (22)
- nejenom ke vzdálenému přístupu ale obecně i pro secure transfer dat (např SFTP)
- využívá šifrování pro bezpečnou komunikaci
- Umožňuje ověřit identitu serveru (zda to není server útočníka)

---
**Příklady odpovědí (pravda)**:
The telnet protocol, by default, transfers all traffic including passwords unencrypted, it can be used as secure solely within the framework of separate LAN segment

#### Které tvrzení o bezpečnosti přístupu přes SSH je správné?
Klient ověřuje server
- na základě klíče, certifikátu

Server ověřuje uživatele
- heslo, výzvy a odpovědi (OTP), veřejný klíč klienta...

Ověřovat klíč serveru
- man-in-the-middle útok při změně klíče (SSH klient by měl řvát, že se změnil klíč)

Přihlášení bez hesla se váže na privátní klíč
- zjednodušeně:
    1. necháte na serveru veřejný klíč (místo hesla)
    2. při připojení zašifrujete něco co vám dá server privátním klíčem
    3. server si to vaším veřejným klíčem rozšifruje a zkontroluje, že to sedí.
    - Pozor: Privátní klíč nikdy nejde přes síť!

Nikdy recipročně bez hesla (bez hesla jen jedním směrem) - ochrana proti červům

---
**Příklady odpovědí (pravda)**:
- If we want to allow remote access without a password, we generate a pair of keys, placing the secret one on the client and the public one on the server
- If we want to be certain about connecting to the right server, we have to verify its public key (e.g. check the fingerprint) using of an independent source
- Upon user authentication with a key, no password is sent over the network; however it is recommended to protect the private key on the client machine with a password

#### Co označuje pojem VoIP (Voice over IP)?
Obecné označení technologií pro digitální přenos hlasu přes internet (pomocí IP)

---
**Příklady odpovědí (pravda)**:
- Obecny termin oznacujici obecne navzajem nekompatebilni prostredky pro prenos hlasu (SIP, H.323, Skype...)

#### Co označuje pojem SIP (Session Initiation Protocol)?
- stará se o navázání spojení dvou partnerů (vyhledat a spojit) pro komunikaci VoIP.
- Řeší jen signalizaci (vyhledá partnera a naváže spojení)
- přenos dat pomocí RTP/RTCP
- Dohoda o datových kanálech řešena SDP (Description)
    - jeho data zabalena v SIP
- textový protokol
- nahrazuje starší binární H.323 protokol

---
**Příklady odpovědí (pravda)**:
- A protocol that builds base for arrangement between communicating parties about parameters of data channels for multimedia transmission
- One of the VoIP (internet telephony) protocols; a text protocol that replaces some older binary protocols from the H.323 set

#### Jak funguje protokol DHCP?
- Používá protokol UDP k přidělení adresy počítači
    - IP adresa, maska sítě, implicitní brána, adresa DNS serveru
- Port 67 (server listening) a 68 (klient) (Pro IPv6: 546 server, 547 klient) - UDP
- Pronájem (lease) IP adresy je časově omezený.
    - Klient se typicky pokusí o obnovení pronájmu po uplynutí 4/8 času (tedy v polovině doby pronájmu).
    - Pokud se to nepodaří, zkusí to znovu po 7/8 času pronájmu.
    - Pokud ani tehdy nedostane obnovu pronájmu od DHCP serveru, po vypršení celé doby pronájmu musí klient přestat používat přidělenou IP adresu
- klient si vybírá z nabídky podle adresy/délky pronájmu..

```
-> DHCPDISCOVER (Broadcastem)
<- DHCPOFFER
-> DHCPREQUEST  * klient si sám vybírá, který offer přijme
<- DHCPACK
-> 4/8 DHCPREQUEST (buď ACK nebo ticho zpět)
-> 7/8 DHCPREQUEST (opět ACK nebo ticho)
-> 8/8 DHCPDISCOVER (pokud stále nic tak přestane používat IP adresu)
```

---
**Příklady odpovědí (pravda)**:
- Client sends a DHCP request to find out the parameters of his connection to IP network. To do so he uses a broadcast address, so the request is delivered to all hosts
- The address lease time is limited. During this period the client has to ask for assignment confirmation. If he fails to get it he has to release the address when the lease expires

#### Jakým způsobem se synchronizují hodiny na počítačích v síti?
Pomocí NTP (Network Time Protokolu) - UDP port 123
- Klient kontaktuje servery uvedené v konfiguraci (většinou jich má více)
- Zdroje mají kvůli přesnosti a prevenci cyklů klasifikaci (stratum=0 znamená přesné zařízení např. atomové hodiny)
- Problém: odpovědi od serverů mají (různé) zpoždění
    - Řešení: Marzullův algoritmus

---
**Příklady odpovědí (pravda)**:
- Using NTP protocol. NTP server may have its own reference time source (an atomic clock, a GPS clock and the like) or it gets time itself by NTP from other servers
- NTP client commonly polls multiple servers and to determine the time he uses Marzullo's

#### Proč se synchronizují hodiny na počítačích v síti?
1. Stejné timestampy souborů
2. možnost porovnávání událostí na různých počítačích (Logy)- teoreticky by se dalo i bez NTP ale bylo by zbytečně nepohodlné (přepočítavat časové rozdíly mezi uzly atdp.)

---
**Příklady odpovědí (pravda)**:
It facilitates comparing logs from different machines when detecting problems

#### Které tvrzení o povaze FTP protokolu je správné?
- Port 21 command (řídící příkazy) a 20 na přenos dat
- je nešifrovaný
- dnes se používá spíše na anonymní přístup k serverům
- pasivní a aktivní spojení (je to z pohledu serveru)
    - aktivní je problematické kvůli firewallům
        - zařízení z venku se snaží připojit do sítě
        - Pokud je na síti NAT tak musí umět modifikovat dokonce i obsah zpráv mezi klientem a serverem!
- možno vyvolat Third Party Transfer
    - přenos přímo mezi dvěma FTP servery, řízený z jiného (third party) počítače
- Na každý nový přenos se musí otevřít nové TCP spojení, které se po dokončení přenosu zase zavře.

Stavy viz tabulka na začátku.

---
**Příklady odpovědí (pravda)**:
- The server FTP response begins with a number determining the response type; values 2xx mean a good result and 5xx a bad one
- For every data transmission, a peer (client or server) opens a new data connection
- For correct function of active FTP transfer mode in a network with address translation, it is necessary that the router can perform application protocol inspection

---
**Příklady ŠPATNÝCH odpovědí**:
- V případě pasivního datového přenosu FTP klient naváže spojení na server, po něm pošle řídíci příkazy a poté data.
    - POZN: příkazy a data se neposílají u FTP přes stejné spojení (Port 21 na příkazy a 20 na data)

#### Které z následujících tvrzení o bezpečnostních problémech FTP je správné?
Heslo se přenáší otevřeně. Proto se dnes používá jen tam, kde nehrozí nic bezpečnostního (anonymní přístup k serveru). - k volně šiřitelným datům (heslo=email apod.)

#### Která charakteristika TCP není správná?
Platí: použití pro spojované služby, klient naváže spojení - data tečou ve formě proudu (streamu), spojení (relaci) řídí TCP nikoliv aplikace, má velkou režii, je komplikované, (příp. méně pravidelné ale bezeztrátové)

---
**Příklady odpovědí (nepravda)**:
- TCP allows multiplexing - running an application using various network layer protocols

---
**Příklady ŠPATNÝCH odpovědí (pravda)**:
- TCP segments application data, if it is needed

#### Jaké postupy používá TCP, aby zajistilo spolehlivost přenosu?
- Přijímající strana posílá ACK na data, která dostala ACK (číslo které očekává).
    (wiki) 100 101 102 103 ... <- ACK 104 (chci 104ku)
- používá sekvenční číslo k identifikaci všech odeslaných packetů, popořadě.
- Zasílá kontrolní součet (checksum) u každého packetu, aby se popř. dalo poznat, že je packet poškozený.

---
**Příklady odpovědí (pravda)**:
- The recipient may choose whether he sends the confirmation as a separate packet with no data or by adding the ACK flag to next data packet
- The station waits for segment delivery acknowledgment only when it reaches the so-called window

#### Který parametr datového přenosu určuje, jaký rozsah dat může stanice poslat, aniž musí čekat na potvrzení protistrany?
"window size"
- potvrzení nejpozději každého n-tého packetu (místo každého)
- klient čeká na odpověď po odeslání n packetů
    - „všechny v téhle sadě dorazily, můžeš poslat další sadu“

#### Co usoudíme z následujícího popisu paketu v programu tcpdump?
[Návod na čtení](http://packetpushers.net/masterclass-tcpdump-interpreting-output/)
- dobře popsané v prezentaci: 'Výpis programu tcpdump'
- Zdroj, Cíl, Flagy, Sekvenční číslo, ACK číslo, Window size, Délka
- Pozor: po three-way-handshake je sekvenční a ACK číslo relativní!

---
**Příklady odpovědí (pravda)**:
- Under normal circumstances the client sends next command in packet with ACK 300
    - POZN: nejspíš jde o to že neposlal klient ACK spojený s dalším příkazem
- It is the second packet of a connection (probably) to an FTP server
- It is a packet carrying the last part of the response (probably) from an FTP server

#### Co usoudíme z (kompletního) výpisu programu `netstat -an`?
Zobrazí výpis všech aktivních spojení TCP a UDP a porty na kterých naslouchají spuštěné procesy
- (-an (n) v příkazu: IP adresy v Foreign adress v číselné podobě - není použit reverzní převod pomocí DNS na jména)
- Proto, Local Adress, Foreign Adress, State

---
**Příklady odpovědí (pravda)**:
- At least one web client is running on the computer
- Remote login to the computer is not possible, neither using SSH nor telnet
- The FTP server running on the computer is not currently transferring any file

#### Jakou informaci obvykle volí dynamicky klient, jenž se chystá navázat spojení na server?
TCP sekvenční číslo a zdrojový port

---
**Příklady odpovědí (pravda)**:
- TCP SEQ number
- source port

#### Jakou informaci najdeme v záhlaví TCP i UDP?
Destination Port, Source Port, Checksum, Data

#### Které tvrzení popisuje správně TCP resp. UDP?
TCP - viz výše, UDP - pro nespojované služby, neexistuje „spojení“, data jsou nezávislé zprávy, UDP jednoduché - musí řídit aplikace, (pravidelný tok za cenu vyšší ztrátovosti)

---
**Příklady odpovědí (pravda)**:
UDP contrary to TCP provides more regular data flow with a risk of data loss

#### Pokud TCP pakety dorazí v nesprávném pořadí, co se stane?
Mají Sequence number, takže si příjemce pakety srovná (na transportní vrstvě)

#### Pokud UDP pakety nedorazí ve správném pořadí, co se stane?
Příjemce může a nemusí srovnat na aplikační vrstvě (programátor může pořadí vložit do „dat“ podle nich aplikace může srovnat, jinak implicitně v UDP protokolu není)

---
**Příklady odpovědí (pravda)**:
- Application will rearrange the packets if necessary

#### Pokud www prohlížeč pošle dotaz na www server na standardním portu, jaký z následujících portů může obsahovat odpověď jako zdrojový?
80 pro HTTP nebo 443 pro HTTPS

---
**Příklady odpovědí (pravda)**:
- 443

---
**Příklady ŠPATNÝCH odpovědí**:
- 65536, 1023, 1025

#### Pokud FTP klient pošle příkaz na FTP server na standardním portu, jaký z následujících portů může obsahovat odpověď jako zdrojový?
21 - odpověď na příkaz, 20 - při aktivním přenosu

#### Co se odehrává během three-way handshake?
Je to pripajanie clienta na server pomocou TCP protocolu (synchronizace Seq numbers mezi klientem a serverem)

```
Client ----[SYN = 1, Seq_number = c,     ACK = 0    ]----> Server
Client <---[SYN = 1, Seq_number = s,     ACK = c + 1]----- Server
Client ----[         Seq_number = c + 1, ACK = s + 1]----> Server
```

---
**Příklady odpovědí (pravda)**:
The server confirms the client readiness to establish a TCP connection

#### Co se stane, když jeden z partnerů pošle TCP paket s FIN příznakem?
1. Klient odešle datagram s nastaveným příznakem FIN (odteď nesmí jít žádná další data z klienta)
2. Server odpoví datagramem s nastaveným příznakem ACK
3. Server dále komunikuje dle libosti, až bude chtít ukončit spojení, tak odešle datagram s nastaveným příznakem FIN
4. Klient odpoví s nastaveným příznakem ACK
5. Tím je spojení ukončeno

---
**Příklady odpovědí (pravda)**:
- The counterparty normally acknowledges it and according to the dialog status it decides whether to continue or close the connection
- After having received ACK the connection will be in half-closed status and this side of the application will be no more able to send any data

#### Se kterou vrstvou TCP/IP je svázán pojem port?
Transportní (OSI4) -> využívá se v TCP

#### K čemu se používají porty v OSI 4?
Aby OS mohl předávat aplikacím data, o která žádají - nevědělo by se komu data patří. Port je "číslo aplikace".

---
**Příklady odpovědí (pravda)**:
To identify application process on source host (source port)

#### Označte termín, který není funkcí síťové vrstvy. ø
Viz. [Co nepatří mezi úkoly síťové vrstvy v TCP/IP modelu?](#co-nepatří-mezi-úkoly-síťové-vrstvy-v-tcpip-modelu)

#### Jaká informace se přidává do paketu během zapouzdření na síťové vrstvě?
IP adresa zdroje a cíle, typ, TTL, checksum

---
**Příklady odpovědí (pravda)**:
Source and destination network address

#### Jaký protokol poskytuje na síťové vrstvě službu spolehlivého přenosu dat?
Žádný co jsme brali -> "Žádná odpověď není správná" na síťové vrstvě (na transportní je to TCP)

---
**Příklady ŠPATNÝCH odpovědí**:
- SSL
- IPv6
- ICMP

#### Jaký protokol poskytuje na síťové vrstvě službu nespolehlivého přenosu dat?
IP
- Mezi nespolehlivé protokoly dále patří UDP na transportní vrstvě

#### Označte nepravdivé tvrzení o přidělování IP adres.
- Centrální IANA (Internet Assigned Numbers Authority)
- regiony RIR (5x, náš RIPE NCC)
- dále ISP - připojují koncové sítě
- v lokální síti: lokální správa (automaticky nebo ručně)

---
**Příklady odpovědí (nepravda)**:
- WIFI has the advantage that a host needs no IP address to communicate in TPC/IP
    - POZN: blbost, v TCP/IP VŽDY potřebujeme IP adresu
- Every end customer in a region gets addresses assigned from the regional registry (RIR)
    - POZN: Přiřazuje to ISP (nebo router za NAT)

#### Označte nesprávnou variantu, jak počítač může zjistit IP adresu, kterou smí používat.
DHCP, link local adresy, administrátorem přidělena manuálně

---
**Příklady odpovědí (nepravda)**:
- It can read the IP address assigned by the manufacturer from network interface card,
    - POZN: to může platit pro MAC adresu

#### Označte pravdivé tvrzení o autonomních systémech (AS)?
Def: Blok sítí se společnou routovací politikou, zavedeny pro snazší routování na globální úrovni
- externí routovací protokoly EGP
- dnes používaný Border Gateway Protokol BGP (Identifikátor 16 bitové číslo, dnes přechod na 32 bitová.)
- v ČR jsou jich stovky

#### Kolik bitů má IPv6 adresa?
128

#### Který z následujících protokolů nepracuje s IP adresami?
S IP adresami pracuje:
- IP - z definice
- ICMP - je součástí IP protokolu
- ARP - převádí IP na MAC
- DHCP - přiděluje IP adresy
- DNS - překládá doménová jména na IP adresy a naopak
- další: BGP, OSPF, ...

---
**Příklady odpovědí (nepravda)**:
TCP
- POZN: TCP nepracuje s IP adresami to řeší IP, TCP pracuje jen s porty

#### Která vrstva OSI pracuje s IP adresami?
síťová - 3.

#### Jak odesilatel zprávy zjistí, jaká část cílové IP adresy přísluší síti a jaká počítači?
Podle masky
- jedničky v ní = část IP adresy určující síť
- nuly v ní = část IP adresy pro počítač

Nebo impliciteně (první byte rozhoduje o třídě sítě, dnes spíše classless mód = za IP adresou /počet bitů prefixu určujícího síť)
- Více v 'Za předpokladu použití implicitních síťových masek označte nesprávně klasifikovanou IP adresu.'

Příklad: 192.168.100.1/16, tedy maska je 255.255.0.0 → 192.168. je část IP adresy určující síť

---
**Příklady odpovědí (pravda)**:
If the destination address does not belong to any of the directly connected networks, this information is not needed

#### Jaká IPv4 adresa má v části pro počítač samé jedničky?
Network broadcast - „všem v této síti“ nesmí opustit síť

#### Které tvrzení o typech IP adres je pravdivé?
- Implicitní/Subnetting rozšířením síťové části adresy (pomocí síťové masky)
- classless mód (různé masky = variable length subnet mask VLSM) (Supernetting)
- speciální adresy by design/definition

Unicast - zasílání paketů pouze jedinému cíli (uzlu/stanici)

Multicast - Posláno na IP adresu cílové skupiny (poslána ale jen jediná zpráva ta dorazí všem v dané skupině - místo vysílání stejné zprávy všem jednotlivcům)

Loopback - 127.0.0.1/8 - packety, co jsou sem poslány jdou ihned zpět jako příchozí.

---
**Příklady odpovědí (pravda)**:
- A multicast address does not identify one particular destination host. It is used e.g. in routing protocols
- A loopback address may be used even on a computer with no network interface card

#### Za předpokladu použití implicitních síťových masek označte nesprávně klasifikovanou IP adresu.
**1. Pokud klasifikace znamená na třídy:**

Implicitně tedy záleží čistě jen na prvním bytu:
- Třída A: první byte 1-126 (maska 255.0.0.0)
- Třída B: první byte 128-191 (maska 255.255.0.0)
- Třída C: první byte 192-223 (maska 255.255.255.0)
- Třída D (multicast): první byte 224-239
- Třída E (experimentální): první byte 240-255

Kdybychom měli možnosti:
- a) 10.0.0.1 - třída A
- b) 172.33.1.1 - třída C
- c) 192.168.1.1 - třída C
- d) 223.1.1.1 - třída C

Tak je b) špatně, protože je to třída B (1. byte mezi 128-191).

**2. Soukromé vs. veřejné**

Soukromé jsou tyto rozsahy:
- 10.0.0.0/8
- 172.16.0.0/12
- 192.168.0.0/16

**3. Unicast vs. Multicast vs. Broadcast**
- Unicast: běžné adresy pro komunikaci jeden-jednomu
- Multicast: 224.0.0.0 - 239.255.255.255
- Broadcast: adresy končící na 255 nebo speciální 255.255.255.255

**4. Loopback vs. Síťové**
- Loopback: 127.0.0.0/8
- Síťové: ostatní platné IP adresy

#### Kolik a jak rozsáhlých podsítí je třeba na pokrytí sítě s následujícími požadavky na počty připojených počítačů za použití VLSM (Variable Length Subnet Mask)?
- každá podsíť musí mít síťovou (samé nuly v části pro počítač) a broadcast (samé jedničky v části pro počítač) adresu -> kapacita sítě mínus 2
- velikost masky je 32 - X, kde X splňuje 2^X je menší nebo rovno počtu počítačů, které potřebujeme připojit + 2
- Např: Pro 7 počítačů, X = 4 (2^4 = 16 větší nebo rovno 7 + 2 = 9), pozn pro X=3 by to bylo moc malé
    => velikost masky: 32 - X = 32 - 4 = 28

---
**Příklady odpovědí (pravda)**:
Two subnets with 25 and 27 bits masks

#### Která z následujících kombinací představuje minimální síť pokrývající tyto unicastové adresy: 10.1.1.106, 10.1.1.111, 10.1.1.119?
Pro určení minimální sítě musíme:
- Najít rozsah, který pokryje všechny tyto adresy
- Začátek sítě musí být zarovnán na hranici mocniny 2
- Síť musí být dostatečně velká
- unicastové -> může to být síťová (to je unicast), ale nemůže to být broadcast (to by nebyla unicast)

V tomto případě by to bylo:
10.1.1.106 = 0110 1010
10.1.1.111 = 0110 1111
10.1.1.119 = 0111 0111
-> mění se posledních 5 bitů
-> začátek: 0110 0000 = 96
-> konec: 96 + 2^5 = 128, ale musíme vyhodit broadcast => 127

Výsledek:
- 10.1.1.96/27 -> 96-127 (2^5)
- Pozn: kvůli neoptimálnímu zarovnání nevystačí maska /28

#### Která následujících adres představuje korektní adresu počítače? ø
Viz. [Za předpokladu použití implicitních síťových masek označte nesprávně klasifikovanou IP adresu.](#za-předpokladu-použití-implicitních-síťových-masek-označte-nesprávně-klasifikovanou-ip-adresu)


#### Které z následujících nastavení může být v této síti správnou adresou počítače? ø
Viz otázky výše.

#### Který záznam může být platným záznamem ve směrovací tabulce routeru B z následujícího obrázku?
#### Který záznam může být platným záznamem ve směrovací tabulce routeru A z následujícího obrázku?
Podívejte se na tabulky `netstat -r` nebo na net

#### Které tvrzení o směrování je pravdivé?
- Měla by umět každá stanice v TCP/IP síti
- maska vyjadřuje uvažovanou část adresy cíle
- typy:
    - direct - přímo připojená síť (gateway = vlastní adresa)
    - indirect, default, záznam implicitní - automaticky po přiřazení adresy do rozhraní
    - explicitní - ručně zadán příkazem
    - dynamický - v průběhu práce od partnerů v síti, větší zátěž

#### Vyberte správné tvrzení o principu směrovacího algoritmu.
Zvol nejspeciálnější záznam (nejdelší maska)
- existuje (ne = není cesta)
    - můj stroj (ano = vrať na vstup)
    - moje síť (ano = pošli příjemci)
    - ne pošli směrovači (default gateway)

---
**Příklady odpovědí (pravda)**:
If a direct record is found in the routing table, the packet is sent over given interface; if the record is indirect, the packet is sent to the router stated within

#### Jaké kroky musí udělat klientský počítač, aby správně odeslal paket v případě, že cílový server není ve stejné síti?
Vyslat ARP request aby zjistil MAC adresu routeru (default gateway) - poté packet co chtěl odeslat je vyslán přes router podle jeho směrovací tabulky (předtím počítač nezná adresu routeru proto ARP request)

---
**Příklady odpovědí (pravda)**:
Search the routing table for the most specific entry matching the destination address

#### Vyberte správné tvrzení o činnosti routeru.
Router (směrovač)
- aktivní síťové zařízení v počítačových sítích, které procesem zvaným routování přeposílá datagramy směrem k jejich cíli
    - Routování probíhá na třetí vrstvě referenčního modelu ISO/OSI (síťová vrstva). 
- spojuje sítě (pozor: switch spojuje počítače v místní síti = rozdíl)

---
**Příklady odpovědí (pravda)**:
- Router has to recalculate IP header checksum before sending a packet due to TTL change
- Router on the border of local network may be configured so that certain type of traffic is denied to deliver and it drops such packets

---
**Příklady ŠPATNÝCH odpovědí**:
- Router zjistí z paketu IP adresu příjemce a pomocí některého routovacího protokolu zjistí, kam má paket dále odeslat.
    - POZN: nepoužívá vždy routovací protokol (jen pro vytvoření nebo aktualizaci routovací tabulky), většinou se jen podívá do své routovací tabulky

#### Které tvrzení o metodách řízení směrovacích tabulek je pravdivé?
Statické
- cesty se navazují při startu
- nepružné při změnách
- problémy se subnettingem
- nesnadné zálohování spojení
- méně citlivé na problémy v síti
- dostupné i ve zcela heterogenním prostředí → vhodné pro jednodušší stabilnější sítě

Dynamické
- Routery si navzájem vyměňují informace o síti pomocí routovacího protokolu
- jednoduché změny konfigurace
- síť se dokáže sama „opravovat“
- směrovací tabulky se udržují automaticky
- citlivější na problémy/útoky
- na počítači musí běžet program obsluhující protokol (routed, gated, BIRD a pro lokální sítě např. RIP a OSPF)

---
**Příklady odpovědí (pravda)**:
Dynamic management of routing table results in higher router CPU load

#### Označte pravdivé tvrzení o distance-vector routovacích protokolech.
Př: RIP (Routing Information Protocol)
- Uzel má u záznamů ve směrovací tabulce i „vzdálenost“
- svou tabulku periodicky posílá sousedům
    - ti si upraví svou tabulku a v dalším taktu ji posílají dál
- Nevýhody:
    - pomalá reakce na chyby
    - metrika špatně zohledňuje vlastnosti linek (rychlost, spolehlivost, cenu)
    - chyba ve výpočtu jednoho routeru ovlivní celou síť - vznik routovacích smyček
- Výhody:
    - jednoduché -> snadno implementovatelné
    - málo výpočetně náročné

#### Označte pravdivé tvrzení o link-state routovacích protokolech.
Př: OSPF (open shortest path first)
- Každý router zná „mapu“ celé sítě
- routery si navzájem sdělují stav svých linek a podle toho si každý modifikuje mapu své sítě.
- Nevýhody:
    - náročnější na výkon CPU a paměť
    - při startu na nestabilních sítích může výměna dat znamenat velkou zátěž sítě.
- Výhody:
    - výměna dat probíhá pouze při změnách
        -> pružně reaguje na změny topologie
    - každý počítá sám za sebe -> chyba neovlivní ostatní
    - síť je možné rozdělit na menší podsítě (zvyšuje rychlost výpočtu)

---
**Příklady odpovědí (pravda)**:
Calculation of network topology from information acquired by these protocols is sophisticated, therefore it is possible to divide the network into smaller segments

#### Jakou informaci z paketu používá každý směrovač pro určení cesty?
IP adresu cíle

---
**Příklady odpovědí (pravda)**:
- Destination network address

#### Jaké pole IP záhlaví za normálních okolností mění router?
TTL -> kvůli tomu změna header checksum

V konkrétních případech:
    - NAT -> mění se IP (otázka jestli je to normální okolnost)
    - fragmentace -> mění se toho více

---
**Příklady odpovědí (pravda)**:
header checksum

#### Označte existující pole (sloupec) routovací tabulky.
Destination, Netmask, Gateway, Interface, Metric, Flags, ...

#### Jakým příkazem můžeme vypsat obsah routovací tabulky?
`netstat -r` (případně spolu nějakým dalším přepínačem, `-rn`, `-nr`). `netstat --route` je ekvivalentní.

*NEBO*

Příkaz `route` (`route print`)

---
**Příklady odpovědí (pravda)**:
route

#### Které pole IP záhlaví brání vzniku nekonečné smyčky při doručování?
TTL (Time to live)

#### Vyberte správné tvrzení o účelu nebo použití pole IP záhlaví označovaného jako TTL (Time To Live).
Prostředek pro ochranu před zacyklením v případě routovací smyčky (chybná konfigurace routerů), udává počet hopů, který smí paket ještě přeskočit, při dosazení 0 se posílá ICMP Time Exceeded

Tohoto využívá `traceroute`, který opakovaně posílá packety (UDP) postupně zvyšuje TTL od 1 výše dokud nedorazí do cíle nebo se někde zasekne. Postupně tím odhalí strukturu cesty k cíli.

---
**Příklady odpovědí (pravda)**:
- The TTL field is also used by the traceroute program when diagnosing routing problems
- The router decrements TTL value and if it reaches zero, the packet is dropped and ICMP Time Exceeded message is sent to packet originator

#### Pokud má počítač špatně nastaven defaultní router, co nebude moci?
- Nebude moci zprávy (data) vysílat jinam než do svého subnetu
- Bude moci příjmat TCP spojení a to i z jiných sítí (pokud protistrana zná cestu k tomuto počítači)

---
**Příklady odpovědí (pravda)**:
Host cannot forward packets to some networks, it may receive them

#### Jaký účel plní default gateway?
1. počítač nezná cestu k danému IP (v lokální síti)
2. vyšle packet na default gateway (router)
- -> ten propojuje sítě takže packet přes něj bude poslán dál

---
**Příklady odpovědí (pravda)**:
- It represents a routing table entry, which is used when no matching entry (less general) exists for given destination
- It provides the address of implicit router for communication from own IP network

#### Co se stane, pokud cíl není nalezen v routovací tabulce?
Packet je poslán skrz default gateway
- pokud takový záznam v tabulce:
    - je - data se pošlou
    - není
        - ICMP odpoví „No route to host“ (typ zprávy "Destination Unreachable")
        - data se zahodí

---
**Příklady odpovědí (pravda)**:
- If no default gateway exists, the packet is discarded
- If a default gateway exists, this path is used

#### Která z charakteristik IP filtrování je správná?
Router na perimetru obsahuje informace o tom, jaké IP adresy propouští.

Přísná konfigurace: ven vybrané, dovnitř nic (dobré pro protokoly s jedním kanálem HTTP/SMTP), problém u protokolů s více kanály (FTP/SIP)

Obvyklá konfigurace: ven cokoliv, dovnitř nic - problém třeba s aktivním FTP přenosem, nepoužitelné u protokolů s více kanály (SIP), problém se službami „uvnitř“ (www server, pošta) - lepší oddělený segment = demilitarizovaná zóna

IP filtrování typicky využívá transportní vrstvy. Pozor ne síťové!

---
**Příklady odpovědí (pravda)**:
- For acceptable functioning of some multiple-channel protocols together with IP filtering. The filtering process must use some information retrieved from the application layer
- IP filtering serves to protect a local network; it works well for single-channel protocols (HTTP), using it for multiple-channel protocols (FTP, SIP) is more complicated

#### Která z charakteristik překladu adres (NAT) je správná?
IP Masquerading
- router na perimetru privátní sítě „překládá“ privátní adresy na veřejné (nebo jiné privátní ve vnořených sítích)
- router přepíše IP source na svou vlastní a port na některý ze svých volných
- když přijde odpověď zpět v tabulce zjistí podle portu na který přišla, na jaký port a IP v síti má odpověď přeposlat

---
**Příklady odpovědí (pravda)**:
- When using NAT, just one public address is needed for connection of the whole LAN
- NAT muze byt vyuzit i pro překlad mezi dvěma privátními sítěmi

---
**Příklady ŠPATNÝCH odpovědí**:
- Běžnou metodou implementace NAT je náhrada privátní adresy veřejnou; informace o původní adrese je na routeru svázána s cílovým portem.
    - POZN: Na konci je 's cílovým portem' což je blbost, protože je svázána se zdrojovým portem

#### Která z charakteristik proxy serveru je správná?
Je software na routeru (transp.) nebo i separátní server (může být v netransp.), který stíní klienta přímo od serveru - funguje jako prostředník. Správce sítě může kontrolovat činnost klientů popř. omezit objem provozu na přípojné lince…
* Transparentní - SW na routeru, zachytí a uloží požadavek, svým jménem naváže spojení dál (stejně opačně) - není třeba konfigurovat
* Netransparentní - je třeba nakonfigurovat aby se požadavky neposílaly přímo, ale na proxy-server v lokální síti (nemusí být router), je nutná podpora protokolu

---
**Příklady odpovědí (pravda)**:
- Non-transparent proxy server may only be used for protocols that have support for this, because the information about the real target has to be carried within the protocol
- From the destination server point of view, a proxy server acts as a client

#### Které zařízení/prostředek implementuje bezpečnostní politiku lokální sítě vůči internetu?
IP filtrování - na transportní vrstvě

Další možnosti: Proxy server, Firewall (nebavili jsme se o nich), teoreticky by sedělo i router

#### Které tvrzení o ARP je pravdivé?
(ARP = Address Resolution Protocol)
- Konverze MAC a IP adres
- neznámá adresa se zjišťuje broadcastovou výzvou
- výsledky se ukládají do ARP cache
    - odpovídající si rovnou přidává informace o tazateli -> oba o sobě ví navzájem
- nejde ověřit pravost/správnost odpovědi -> bezpečnostní problémy
- neopouští lokální síť
- můžu dostat i nevyžádaně (gratious)
- `arp -a`

---
**Příklady odpovědí**:
ARP table (cache) stores also data about the nodes that have sent us their ARP requests

#### Počítač na obrázku poslal HTTP request, který dorazil na server. Jaké tvrzení o obsahu ARP tabulek na notebooku, switchi, routeru a serveru je pravdivé?
- co se hodí vědět:
    - Omezení na linkový segment LAN (mezi sítěmi je v činnosti OSI 3)
        - takže v různých částech LAN (oddělených routery) může být více zařízení se stejnou MAC adresou
    - Switch pracuje na linkové vrstvě, takže nepracuje s IP adresami -> nemá ARP cache

- řekněme že obrázek vypadá nějak takto:
    - Notebook → Switch → Router v LAN Notebooku → Router v LAN serveru → Server
    - ARP cache:
        - Notebook:
            - IP a MAC default gateway (Router v LAN Notebooku)
        - Switch: nemá
        - Router v LAN Notebooku:
            - IP a MAC Notebooku
        - Router v LAN serveru:
            - IP a MAC serveru
        - Server:
            - IP a MAC default gateway (Router v LAN serveru)

#### Jaké funkce plní ICMP (Internet Control Message Protocol)?
- Posílání řídících informací pro IP - používá IP datagramy (ale není to transportní protokol)
    - Time Exceeded (vypršel TTL)
    - Destination Unreachable - nastane když UDP služba na kterou mají být data doručeny není dostupná (TCP si to umí řešit samo pomocí příznaku RST)
    - Redirect
    - Echo/Echo Reply (testování dosažitelnosti - `ping`)
    - Parameter Problem (chyba v záhlaví datagramu)…
    - vyhledávání routerů
    - žádost o snížení rychlosti toku datagramů atd.

---
**Příklady odpovědí (pravda)**:
- By means of ICMP destination availability may be detected by ping program
- Stanice muze pomoci ICMP informovat o nedostupnosti sluzby

#### Označte pravdivé tvrzení o vztahu linkové a fyzické vrstvy v OSI a TCP/IP
Jsou spojeny do jedné vrstvy, takzvaný 'Network Access Layer' nebo 'Network Interface Layer'

---
**Příklady odpovědí (pravda)**:
The pair of data link and physical layer is in TCP/IP terminology called "network interface"

#### Co označuje termín LLC (Logical Link Control)?
Podvrstva linkové vrstvy umožňující různým protokolům síťové vrstvy přístup ke stejnému médiu (Multiplexing)

#### Co označuje termín MAC (Media Access Control)?
Podvrstva linkové vrstvy, má na starosti adresaci uzlů a kontrolu přístupu k médiu - kdo, kdy jak může data odesílat a jak je přijímat

---
**Příklady odpovědí (pravda)**:
MAC je spodni podvrstva linkove vrstvy a zajistuje mj. Adresaci jednotlivych uzlu v site v ramci sdileneho media

#### Které tvrzení o deterministickém a nedeterministickém přístupu k médiu je pravdivé?
Deterministicky
- riadi sa pravidlami ktore neobsahuju prvok nahody, pravidla su nastavene tak, aby v konecnom case viedli k cielu, aby sa kazdy uzol, ktory usiluje o medium aj k nemu dostal
- -> nejsou kolize
- zapojení: Kruh

Nedeterministicky
- riadi sa pravidlami ktore obsahuju aj niaky prvok nahody, nie je na 100 percent garantovane, ze sa uzlu podari ziskat pristup k mediu, lahsia implemetacia
- -> hrozí kolize
- zapojení: Sběrnice, Hvězda

---
**Příklady odpovědí (pravda)**:
- In non-deterministic access the situation may occur when two stations are transmitting at the same time, this situation needs to be resolved someway
- In non-deterministic access, nobody controls which network node may transmit

#### Které tvrzení o topologii sítě je pravdivé?
Topologie sítě = uspořádání uzlů v síti („tvar/struktura sítě“)
- Logické vs fyzické:
    - fyzické = jak jsou opravdu zapojeny
    - logické = jak spolu komunikují
    - můžeme mít fyzické zapojení sběrnici, ale chovat se k tomu jako by to byl kruh
- Zapojení:
    - Multipoint - více uzlů
        - Sběrnice (Ethernet)
            - Nedeterministický -> riziko kolizí, všichni mohou zároveň číst, ale i psát
            - při porušení hrozí výpadek celé sítě
        - Hvězda (ATM)
            - Nedeterministický -> riziko kolizí, všichni mohou zároveň číst, ale i psát
            - nejčastější fyzická topologie
            - z pohledu logického je to sběrnice
            - je to vlastně i fyzicky sběrnice jen až uvnitř centrálního prvku -> tam je chráněna a je menší riziko výpadku celé sítě
            - centrálnímu prvku se říká switch a zásuvce ve switchi se říká port (jiný port než v TCP v transportní vrstvě)
        - Kruh (Token-ring, FDDI)
            - Deterministický -> nedochází ke kolizím
            - uzly zapojeny do kruhu
            - předávají si token (pešek) a kdo ho drží může místo něj dát data a kdo je přečte vrátí zpět token
    - Point-to-point - dva uzly, buď half duplex (riziko kolizí) nebo full duplex (nejsou kolize)
        - přímé propojení kabelem (RS 232)
            - jednoduchá adresace na linkovém protokolu
            - při spojení pomocí Ethernet se používá stejný protokol jako v multipoint zapojení
        - propojení přes modemy
            - prodložení linky pomocí nahrazení části sítě jinou technologií
                - modem umožní přenést data přes telefonní spojení (moduluje je)
        - bezdrátové připojení (přímé) - laser, radioreléové
            - nemyslí se tím WiFi (to je hvězdicová topologie)
            - část linky nahrazena propojením s velkým dosahem na bázi laseru nebo radiových vln

---
**Příklady odpovědí (pravda)**:
Deterministic access is commonly used in ring topology, a station is allowed to transmit only if it holds the token at the moment

#### Které z tvrzení o Ethernetu je správné?
Momentálně vůdčí technologie pro lokální sítě, schopná pružně reagovat na progresivní vývoj HW, přizpůsobí se širokému spektru přenosových médií, na Multipoint spojích řízení přístupu pomocí CSMA/CD (na detekci vysílá „jam signál“, exponenciální čekání po 16 pokusech končí chybou), Adresy - 3 byty prefix (výrobce/multicast), 3 byty adresa, dřívě vypálená v kartě dnes nastavitelná

Formáty: Ethernet II, IEEE 802.3 (pozn. není to protokol!)

---
**Příklady odpovědí (pravda)**:
An Ethernet address has a default factory setting but it can be changed and thus false machine identity can be pretended

#### Které tvrzení o WiFi je správné?
- POZN: není to protokol, ale skupina protokolů!

- Bezdrátová síť (jinak WLAN)
- topologie je hvězda
- mnoho variant - souhrně IEEE 802.11x (x=a/b/g/n/y)
- SSID (Service Set ID): řetězec 32 znaků pro rozlišení sítí
- Struktura: ad-hoc peer-to-peer = dva klienti navzájem rovní
- infrastruktura acces pointů = několik AP které vysílají své SSID
- WiFi zařízení dnes všude
- problém bezpečnost
- kolize řeší pomocí CSMA/CA (CSMA = Carrier Sense with Multiple Access), (CA = collision avoidance)
    - uzel poslouchá médium a pokud není volno čeká
    - název sice "collision avoidance", ale jen to čeká na potvrzení (ACK) že rámec dorazil (nijak to nezabraňuje kolizím, jen je to detekuje)

#### Co je základní funkcí CSMA/CD?
- (CSMA = Carrier Sense with Multiple Access)
- (CD = collision detection)

Detekce kolizí - během vysílání uzel současně detekuje případnou kolizi, při kolizi zastaví stanice vysílání, upozorní ostatní, počká určitou náhodnou dobu a pokus opakuje, obvykle se postupně prodlužuje interval čekání

---
**Příklady odpovědí (pravda)**:
Resolves the problems of the stations concurrent access to the medium

#### Jak lze charakterizovat repeater, hub, bridge a switch?
Repeater (opakovač) (ve struk. kabeláži hub, rozbočovač) - spojuje segmenty na fyzické vrstvě, řeší větší dosah (překonává útlum kabelu), neřeší: propustnost (problém kolizí naopak zhoršuje)

Bridge (most) (ve struk. kabeláži switch, přepínač) - spojuje segmenty na linkové vrstvě, řeší: větší propustnost (rozděluje kolizní doménu)

---
**Příklady odpovědí (pravda)**:
- Hub and switch are special terms for repeater and bridge in the context of structured cabling
- A repeater only amplifies the signal, it increases probability of collisions
- A switch works on data link layer; its MAC addresses do not appear in transmitted frames

#### S jakými adresami pracuje hub, přepínač resp. směrovač?
- Hub = Repeater - žádné (fyzická vrstva)
- Switch = Přepínač - MAC (linková vrstva)
- Směrovač = Router - IP (síťová vrstva)

#### Jak lze charakterizovat Spanning Tree Protocol resp. Spanning Tree Algorithm?
Protokol pomocí kterého se switche domluví, který z nich nemá forwardovat a bude jen sledovat provoz = najdou minimální kostru grafu a tím zamezí cyklům, STP má nezbytné timeouty - start portů je pomalý, STA lze na portu potlačit „faststart“

---
**Příklady odpovědí (pravda)**:
- Switches use distributed version of STA realised by means of STP
- STP can protect the network from loops, but it means slower startup time of the lines

#### Jaké tvrzení o VLAN je pravdivé?
Virtual Lan - prostředek jak po jedné fyzické síti provozovat více nezávislých lokálních sítí, sítě označovány 12bitovým identifikátorem (VLANID), Ethernetový rámec je prodloužen o 32 bitový tag (tagovat může switch, pro koncovou stanici transparentně)

---
**Příklady odpovědí (pravda)**:
Individual VLANs are identified by a 12-bit number

#### Co označuje termín CRC?
Cyclic Redundancy Check (Cyklický kontrolní součet) - hashovací funkce používaná pro kontrolu konzistence dat, posloupnost bitů považovaná za koeficienty polynomu (ve dvojkové soustavě), ten je vydělen charakteristickým polynomem - zbytek po dělení převeden zpět na bity a použit jako hash = jednoduchá (HW) implementace, velká síla

---
**Příklady odpovědí (pravda)**:
- CRC is a hash function used in FCS in Ethernet frames

#### Jaký hlavní smysl má zápatí (trailer) linkového rámce?
Obsahuje FCS (Frame check sequence) = kontrolní součet např pomocí CRC

---
**Příklady odpovědí (pravda)**:
Enables partial detection of errors

#### Kolikrát proběhne výpočet CRC (pro Frame Check Sequence) během přenosu zprávy mezi koncovými zařízeními na obrázku?
Tolikrát kolik je zařízení z aspoň linkové vrsty (koncové zařízení, switch, router -> NE repeater/hub) na dráze přenosu.

Abychom dosáhli 6x tak by muselo nastat:
- Zdrojový počítač spočítá CRC (1x)
- 2 zařízení na dráze přenosu ho zkontrolují a po změně hlavičky ho spočítají znovu (2x)
- Zdrojový počítač zkontroluje CRC (1x)
- => 1 + 2*2 + 1 = 6

---
**Příklady odpovědí (pravda)**:
6x

#### Do hubu jsou zapojeny stanice A, B, C a D. Stanice A je právě uprostřed vysílání rámce stanici D, když stanice B potřebuje vysílat data stanici C. Co musí stanice B udělat?
(hub = repeater = opakovač - operuje na fyzické vrstvě, pomáhá s větším dosahem, způsobuje menší propustnost -> NEodděluje kolizní domény)

Musí počkat než AD dovysílají, protože jsou ve stejné kolizní doméně.

#### Do switche jsou zapojeny stanice A, B, C a D. Stanice A je právě uprostřed vysílání rámce stanici D, když stanice B potřebuje vysílat data stanici C. Co musí stanice B udělat?
(switch = bridge = most - operuje na linkové vrstvě, pomáhá s větší propustností -> odděluje kolizní domény)

Mouhou odeslat svá data ihned, protože jsou v jiných kolizních doménách.

#### Které tvrzení o médiích používaných v počítačových sítích je správné?
- Metalické (kabel) - elektrické pulzy, stínění (STP kabel) pro ochranu proti interferenci
- Optické - světelné pulzy -> velká rezistence proti interferenci
- Bezdrátové - modulace vln (FM - frequency, PM - phase, AM - amplitude)

---
**Příklady odpovědí (pravda)**:
- In wireless transmission digital data is encoded by modulation of the carrier wave (amplitude, frequency or phase)
- Optical fiber transmission uses light pulses which are more resistant to interference
- Transmission over metallic cable may be protected against interference by means of shielding (use of STP instead of UTP)

---
**Příklady ŠPATNÝCH odpovědí**:
- Při digitálním přenosu nedochází k plynulým, ale ke skokovým změnám signálu (průběh signálu má ostré "hrany")
    - POZN: náš svět je analogový takže tohle není možné

#### Kolik vodičů obsahuje kabel označovaný jako nestíněná kroucená dvoulinka (UTP)?
8 (4 páry)

#### Jaké tvrzení o kabelech pro propojení dvou uzlů ethernetové sítě je pravdivé?
Dnes standardně UTP - nestíněná kroucená dvoulinka = 4 páry Cu vodičů navzájem zakroucené

Alternativně kabel s kovovým stíněním STP

Pozor:
- musí sedět vstup a výstup mezi zařízeními -> přímý vs křížený kabel:
    - přímý kabel - router <-> koncové zařízení
    - křížený kabel - dvě koncová zařízení
- dnes obvykle MDI/MDIX autodetekce => je to jedno

---
**Příklady odpovědí (pravda)**:
- If we use cards without MDI/MDIX autodetection, we use a crossover cable to connect

#### Jaký je rozdíl mezi jednovidovým (SM) a mnohovidovým (MM) optickým kabelem?
Optická vlákna
- jednovidová (singlemode) - svítí se laserem, větší dosah a šířka pásma, dražší
- mnohovidová (multimode) - svítí se led -> levnější, jinak horší než SM

#### Jaký typ adres se používá na linkové vrstvě?
MAC adresa (jinak fyzická adresa)
- např. Ethernetová

#### Jaký typ adres se používá na fyzické vrstvě?
Žádné (je to prostě fyzika)

---
**Příklady ŠPATNÝCH odpovědí**:
- logické
- IP adresa + port
- internetové


#### Označte pravdivé tvrzení týkající se MAC adres (ve fungující síti).
Prý v odpovědích hlouposti, správná odpověď „MAC“ - prostě vědět co je MAC (fyzická/HW adresa)

---
**Příklady odpovědí (pravda)**:
- One network node may have multiple MAC addresses
    - POZN: Normální situace, když má počítač více síťových karet (WiFi, Ethernet)

---
**Příklady ŠPATNÝCH odpovědí**:
- In local area network (LAN), two cards with the same MAC address can operate.
    - POZN: I kdyby mezi nimi byl bridge tak by to jen způsobilo, že vždy bude fungovat právě jedno zařízení a odřízne to to druhé.

#### Se kterou vrstvou OSI je svázán pojem Ethernet?
Linkovou a fyzickou = 2. a 1.

#### V jakém případě není nutná adresace cílového počítače?
Broadcast/Multicastová adresa:
- Multicast: 224.0.0.0 - 239.255.255.255
- Broadcast: adresy končící na 255 nebo speciální 255.255.255.255

